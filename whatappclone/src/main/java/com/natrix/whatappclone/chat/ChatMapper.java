package com.natrix.whatappclone.chat;import com.natrix.whatappclone.utility.Builder;import org.springframework.stereotype.Service;@Servicepublic class ChatMapper {    public ChatResponse toChatResponse(Chat c, String senderId) {       return Builder.of(ChatResponse::new)                .add(ChatResponse::setId, c.getId())                .add(ChatResponse::setName, c.getChatName(senderId))                .add(ChatResponse::setUnreadCount, c.getUnreadMessages(senderId))                .add(ChatResponse::setLastMessage, c.getLastMessage())                .add(ChatResponse::setRecipientOnline, c.getRecipient() != null ? c.getRecipient().isUserOnline() : null)                .add(ChatResponse::setSenderId, c.getSender() != null ? c.getSender().getId() : null)                .add(ChatResponse::setReceiverId, c.getRecipient() != null ? c.getRecipient().getId() : null)                .build();    }}